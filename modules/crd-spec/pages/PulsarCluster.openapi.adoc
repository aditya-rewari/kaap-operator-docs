= PulsarCluster
 
team@openapitools.org
 
v1alpha1
 
:source-highlighter: highlightjs
 
:keywords: openapi, rest, PulsarCluster
 
:specDir: 
 
:snippetDir: 
 
:generator-template: v1 2019-12-20
 
:info-url: https://openapi-generator.tech
 
:app-name: PulsarCluster
 

 
[abstract]
 
.Abstract
 
Auto generated from CRD spec
 

 

 
// markup not found, no include::{specDir}intro.adoc[opts=optional]
 

 

 
Version: v1alpha1
 

 
Namespace: pulsar.oss.datastax.com
 

 
== PulsarCluster [[PulsarCluster]] 
 

 
[.fields-PulsarCluster]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *spec* +
 
            
 
            <<PulsarCluster_spec,
 

 

 

 

 

 

 

 

 
Spec
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *status* +
 
            
 
            <<PulsarCluster_status,
 

 

 

 

 

 

 

 

 
Status
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Spec [[PulsarCluster_spec]] 
 

 
[.fields-PulsarClusterSpec]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *autorecovery* +
 
            
 
            <<PulsarCluster_spec_autorecovery,
 

 

 

 

 

 

 

 

 
Autorecovery
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *bastion* +
 
            
 
            <<PulsarCluster_spec_bastion,
 

 

 

 

 

 

 

 

 
Bastion
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *bookkeeper* +
 
            
 
            <<PulsarCluster_spec_bookkeeper,
 

 

 

 

 

 

 

 

 
Bookkeeper
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *broker* +
 
            
 
            <<PulsarCluster_spec_broker,
 

 

 

 

 

 

 

 

 
Broker
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *functionsWorker* +
 
            
 
            <<PulsarCluster_spec_functionsWorker,
 

 

 

 

 

 

 

 

 
FunctionsWorker
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *global* +
 
            
 
            <<PulsarCluster_spec_global,
 

 

 

 

 

 

 

 

 
Global
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *proxy* +
 
            
 
            <<PulsarCluster_spec_proxy,
 

 

 

 

 

 

 

 

 
Proxy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *zookeeper* +
 
            
 
            <<PulsarCluster_spec_zookeeper,
 

 

 

 

 

 

 

 

 
Zookeeper
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Autorecovery [[PulsarCluster_spec_autorecovery]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecovery]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
|===
 

 

 

 

 
=== AntiAffinity [[PulsarCluster_spec_autorecovery_antiAffinity]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    antiAffinity: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryAntiAffinity]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *host* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity_host,
 

 

 

 

 

 

 

 

 
Host
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *zone* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity_zone,
 

 

 

 

 

 

 

 

 
Zone
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Host [[PulsarCluster_spec_autorecovery_antiAffinity_host]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    antiAffinity: 
      host: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryAntiAffinityHost]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates the reclaimPolicy property for the StorageClass.
 
    | *required* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates the reclaimPolicy property for the StorageClass.
 
|===
 

 

 

 

 
=== Zone [[PulsarCluster_spec_autorecovery_antiAffinity_zone]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    antiAffinity: 
      zone: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryAntiAffinityZone]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates the reclaimPolicy property for the StorageClass.
 
    | *required* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates the reclaimPolicy property for the StorageClass.
 
|===
 

 

 

 

 
=== Env [[PulsarCluster_spec_autorecovery_env]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    env: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryEnv]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *value* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *valueFrom* +
 
            
 
            <<PulsarCluster_spec_autorecovery_env_valueFrom,
 

 

 

 

 

 

 

 

 
ValueFrom
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== ValueFrom [[PulsarCluster_spec_autorecovery_env_valueFrom]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    env: 
      valueFrom: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryEnvValueFrom]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *configMapKeyRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_env_valueFrom_configMapKeyRef,
 

 

 

 

 

 

 

 

 
ConfigMapKeyRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *fieldRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_env_valueFrom_fieldRef,
 

 

 

 

 

 

 

 

 
FieldRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *resourceFieldRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_env_valueFrom_resourceFieldRef,
 

 

 

 

 

 

 

 

 
ResourceFieldRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *secretKeyRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_env_valueFrom_configMapKeyRef,
 

 

 

 

 

 

 

 

 
SecretKeyRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== ConfigMapKeyRef [[PulsarCluster_spec_autorecovery_env_valueFrom_configMapKeyRef]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    env: 
      valueFrom: 
        configMapKeyRef: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryEnvValueFromConfigMapKeyRef]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *key* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *optional* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== FieldRef [[PulsarCluster_spec_autorecovery_env_valueFrom_fieldRef]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    env: 
      valueFrom: 
        fieldRef: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryEnvValueFromFieldRef]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *apiVersion* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *fieldPath* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== ResourceFieldRef [[PulsarCluster_spec_autorecovery_env_valueFrom_resourceFieldRef]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    env: 
      valueFrom: 
        resourceFieldRef: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryEnvValueFromResourceFieldRef]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *containerName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *divisor* +
 
            
 
integer or string
 

 

 

 

 

 

 

 

 

 

 

 

 
            
 
        
 
    
 
    | 
 
    
 
    | *resource* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== ImagePullSecrets [[PulsarCluster_spec_autorecovery_imagePullSecrets]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    imagePullSecrets: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryImagePullSecrets]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== InitContainers [[PulsarCluster_spec_autorecovery_initContainers]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainers]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *args* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *command* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    
 
    | *envFrom* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers_envFrom,EnvFrom>>
 

 

 
    | 
 
    
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *lifecycle* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_lifecycle,
 

 

 

 

 

 

 

 

 
Lifecycle
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *livenessProbe* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_livenessProbe,
 

 

 

 

 

 

 

 

 
LivenessProbe
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *ports* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers_ports,Ports>>
 

 

 
    | 
 
    
 
    | *readinessProbe* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_livenessProbe,
 

 

 

 

 

 

 

 

 
ReadinessProbe
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *securityContext* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_securityContext,
 

 

 

 

 

 

 

 

 
SecurityContext
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *startupProbe* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_livenessProbe,
 

 

 

 

 

 

 

 

 
StartupProbe
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *stdin* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *stdinOnce* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *terminationMessagePath* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *terminationMessagePolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *tty* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *volumeDevices* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers_volumeDevices,VolumeDevices>>
 

 

 
    | 
 
    
 
    | *volumeMounts* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers_volumeMounts,VolumeMounts>>
 

 

 
    | 
 
    
 
    | *workingDir* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== EnvFrom [[PulsarCluster_spec_autorecovery_initContainers_envFrom]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      envFrom: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersEnvFrom]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *configMapRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_envFrom_configMapRef,
 

 

 

 

 

 

 

 

 
ConfigMapRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *prefix* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *secretRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_envFrom_configMapRef,
 

 

 

 

 

 

 

 

 
SecretRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== ConfigMapRef [[PulsarCluster_spec_autorecovery_initContainers_envFrom_configMapRef]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      envFrom: 
        configMapRef: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersEnvFromConfigMapRef]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *optional* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Lifecycle [[PulsarCluster_spec_autorecovery_initContainers_lifecycle]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      lifecycle: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersLifecycle]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *postStart* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart,
 

 

 

 

 

 

 

 

 
PostStart
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *preStop* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart,
 

 

 

 

 

 

 

 

 
PreStop
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== PostStart [[PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      lifecycle: 
        postStart: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersLifecyclePostStart]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *exec* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_exec,
 

 

 

 

 

 

 

 

 
Exec
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *httpGet* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_httpGet,
 

 

 

 

 

 

 

 

 
HttpGet
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *tcpSocket* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_tcpSocket,
 

 

 

 

 

 

 

 

 
TcpSocket
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Exec [[PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_exec]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      lifecycle: 
        postStart: 
          exec: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersLifecyclePostStartExec]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *command* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
|===
 

 

 

 

 
=== HttpGet [[PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_httpGet]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      lifecycle: 
        postStart: 
          httpGet: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersLifecyclePostStartHttpGet]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *host* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *httpHeaders* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_httpGet_httpHeaders,HttpHeaders>>
 

 

 
    | 
 
    
 
    | *path* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *port* +
 
            
 
integer or string
 

 

 

 

 

 

 

 

 

 

 

 

 
            
 
        
 
    
 
    | 
 
    
 
    | *scheme* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== HttpHeaders [[PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_httpGet_httpHeaders]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      lifecycle: 
        postStart: 
          httpGet: 
            httpHeaders: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersLifecyclePostStartHttpGetHttpHeaders]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *value* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== TcpSocket [[PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_tcpSocket]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      lifecycle: 
        postStart: 
          tcpSocket: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersLifecyclePostStartTcpSocket]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *host* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *port* +
 
            
 
integer or string
 

 

 

 

 

 

 

 

 

 

 

 

 
            
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== LivenessProbe [[PulsarCluster_spec_autorecovery_initContainers_livenessProbe]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      livenessProbe: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersLivenessProbe]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *exec* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_exec,
 

 

 

 

 

 

 

 

 
Exec
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *failureThreshold* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *grpc* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_livenessProbe_grpc,
 

 

 

 

 

 

 

 

 
Grpc
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *httpGet* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_httpGet,
 

 

 

 

 

 

 

 

 
HttpGet
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *initialDelaySeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *periodSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *successThreshold* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *tcpSocket* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_tcpSocket,
 

 

 

 

 

 

 

 

 
TcpSocket
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *terminationGracePeriodSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *timeoutSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Grpc [[PulsarCluster_spec_autorecovery_initContainers_livenessProbe_grpc]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      livenessProbe: 
        grpc: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersLivenessProbeGrpc]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *port* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *service* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Ports [[PulsarCluster_spec_autorecovery_initContainers_ports]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      ports: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersPorts]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *containerPort* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *hostIP* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *hostPort* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *protocol* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Resources [[PulsarCluster_spec_autorecovery_initContainers_resources]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      resources: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersResources]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *limits* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
integer or string
 

 
    | 
 
    
 
    | *requests* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
integer or string
 

 
    | 
 
    
 
|===
 

 

 

 

 
=== SecurityContext [[PulsarCluster_spec_autorecovery_initContainers_securityContext]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      securityContext: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersSecurityContext]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *allowPrivilegeEscalation* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *capabilities* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_securityContext_capabilities,
 

 

 

 

 

 

 

 

 
Capabilities
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *privileged* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *procMount* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnlyRootFilesystem* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *runAsGroup* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *runAsNonRoot* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *runAsUser* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *seLinuxOptions* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_securityContext_seLinuxOptions,
 

 

 

 

 

 

 

 

 
SeLinuxOptions
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *seccompProfile* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_securityContext_seccompProfile,
 

 

 

 

 

 

 

 

 
SeccompProfile
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *windowsOptions* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_securityContext_windowsOptions,
 

 

 

 

 

 

 

 

 
WindowsOptions
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Capabilities [[PulsarCluster_spec_autorecovery_initContainers_securityContext_capabilities]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      securityContext: 
        capabilities: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersSecurityContextCapabilities]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *add* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *drop* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
|===
 

 

 

 

 
=== SeLinuxOptions [[PulsarCluster_spec_autorecovery_initContainers_securityContext_seLinuxOptions]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      securityContext: 
        seLinuxOptions: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersSecurityContextSeLinuxOptions]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *level* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *role* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *user* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== SeccompProfile [[PulsarCluster_spec_autorecovery_initContainers_securityContext_seccompProfile]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      securityContext: 
        seccompProfile: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersSecurityContextSeccompProfile]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *localhostProfile* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== WindowsOptions [[PulsarCluster_spec_autorecovery_initContainers_securityContext_windowsOptions]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      securityContext: 
        windowsOptions: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersSecurityContextWindowsOptions]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *gmsaCredentialSpec* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *gmsaCredentialSpecName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *hostProcess* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *runAsUserName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== VolumeDevices [[PulsarCluster_spec_autorecovery_initContainers_volumeDevices]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      volumeDevices: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersVolumeDevices]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *devicePath* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== VolumeMounts [[PulsarCluster_spec_autorecovery_initContainers_volumeMounts]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    initContainers: 
      volumeMounts: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryInitContainersVolumeMounts]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *mountPath* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *mountPropagation* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *subPath* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *subPathExpr* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== NodeAffinity [[PulsarCluster_spec_autorecovery_nodeAffinity]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    nodeAffinity: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryNodeAffinity]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *preferredDuringSchedulingIgnoredDuringExecution* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_nodeAffinity_preferredDuringSchedulingIgnoredDuringExecution,PreferredDuringSchedulingIgnoredDuringExecution>>
 

 

 
    | 
 
    
 
    | *requiredDuringSchedulingIgnoredDuringExecution* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity_requiredDuringSchedulingIgnoredDuringExecution,
 

 

 

 

 

 

 

 

 
RequiredDuringSchedulingIgnoredDuringExecution
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== PreferredDuringSchedulingIgnoredDuringExecution [[PulsarCluster_spec_autorecovery_nodeAffinity_preferredDuringSchedulingIgnoredDuringExecution]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    nodeAffinity: 
      preferredDuringSchedulingIgnoredDuringExecution: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryNodeAffinityPreferredDuringSchedulingIgnoredDuringExecution]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *preference* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity_preferredDuringSchedulingIgnoredDuringExecution_preference,
 

 

 

 

 

 

 

 

 
Preference
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *weight* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Preference [[PulsarCluster_spec_autorecovery_nodeAffinity_preferredDuringSchedulingIgnoredDuringExecution_preference]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    nodeAffinity: 
      preferredDuringSchedulingIgnoredDuringExecution: 
        preference: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryNodeAffinityPreferredDuringSchedulingIgnoredDuringExecutionPreference]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *matchExpressions* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_nodeAffinity_preferredDuringSchedulingIgnoredDuringExecution_preference_matchExpressions,MatchExpressions>>
 

 

 
    | 
 
    
 
    | *matchFields* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_nodeAffinity_preferredDuringSchedulingIgnoredDuringExecution_preference_matchExpressions,MatchFields>>
 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== MatchExpressions [[PulsarCluster_spec_autorecovery_nodeAffinity_preferredDuringSchedulingIgnoredDuringExecution_preference_matchExpressions]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    nodeAffinity: 
      preferredDuringSchedulingIgnoredDuringExecution: 
        preference: 
          matchExpressions: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryNodeAffinityPreferredDuringSchedulingIgnoredDuringExecutionPreferenceMatchExpressions]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *key* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *operator* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *values* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
|===
 

 

 

 

 
=== RequiredDuringSchedulingIgnoredDuringExecution [[PulsarCluster_spec_autorecovery_nodeAffinity_requiredDuringSchedulingIgnoredDuringExecution]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    nodeAffinity: 
      requiredDuringSchedulingIgnoredDuringExecution: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryNodeAffinityRequiredDuringSchedulingIgnoredDuringExecution]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *nodeSelectorTerms* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_nodeAffinity_preferredDuringSchedulingIgnoredDuringExecution_preference,NodeSelectorTerms>>
 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Resources [[PulsarCluster_spec_autorecovery_resources]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    resources: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryResources]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *limits* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
integer or string
 

 
    | 
 
    
 
    | *requests* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
integer or string
 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Tolerations [[PulsarCluster_spec_autorecovery_tolerations]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  autorecovery: 
    tolerations: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecAutorecoveryTolerations]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *effect* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *key* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *operator* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *tolerationSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *value* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Bastion [[PulsarCluster_spec_bastion]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bastion: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBastion]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *targetProxy* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates to connect to proxy or the broker. The default value depends whether Proxy is deployed or not.
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
|===
 

 

 

 

 
=== Bookkeeper [[PulsarCluster_spec_bookkeeper]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeper]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalVolumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes,
 

 

 

 

 

 

 

 

 
AdditionalVolumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *autoRackConfig* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_autoRackConfig,
 

 

 

 

 

 

 

 

 
AutoRackConfig
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *autoscaler* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_autoscaler,
 

 

 

 

 

 

 

 

 
Autoscaler
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *cleanUpPvcs* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Cleanup PVCs after the bookie has been removed.
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *overrideResourceName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the resource names generated by the operator.
 
    | *pdb* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_pdb,
 

 

 

 

 

 

 

 

 
Pdb
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *podManagementPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Pod management policy. Default value is &#39;Parallel&#39;.
 
    | *probes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes,
 

 

 

 

 

 

 

 

 
Probes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *pvcPrefix* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Prefix for each PVC created.
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *service* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_service,
 

 

 

 

 

 

 

 

 
Service
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *sets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 

 

 
    | 
 
    Bookie sets.
 
    | *setsUpdateStrategy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Sets update strategy. &#39;RollingUpdate&#39; or &#39;Parallel&#39;. Default is &#39;RollingUpdate&#39;.
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
    | *updateStrategy* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_updateStrategy,
 

 

 

 

 

 

 

 

 
UpdateStrategy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *volumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_volumes,
 

 

 

 

 

 

 

 

 
Volumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== AdditionalVolumes [[PulsarCluster_spec_bookkeeper_additionalVolumes]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumes]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *mounts* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers_volumeMounts,Mounts>>
 

 

 
    | 
 
    Mount points for the additional volumes
 
    | *volumes* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes,Volumes>>
 

 

 
    | 
 
    Additional volumes to be mounted to the pod
 
|===
 

 

 

 

 
=== Volumes [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumes]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *awsElasticBlockStore* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_awsElasticBlockStore,
 

 

 

 

 

 

 

 

 
AwsElasticBlockStore
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *azureDisk* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_azureDisk,
 

 

 

 

 

 

 

 

 
AzureDisk
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *azureFile* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_azureFile,
 

 

 

 

 

 

 

 

 
AzureFile
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *cephfs* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_cephfs,
 

 

 

 

 

 

 

 

 
Cephfs
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *cinder* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_cinder,
 

 

 

 

 

 

 

 

 
Cinder
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *configMap* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_configMap,
 

 

 

 

 

 

 

 

 
ConfigMap
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *csi* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_csi,
 

 

 

 

 

 

 

 

 
Csi
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *downwardAPI* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_downwardAPI,
 

 

 

 

 

 

 

 

 
DownwardAPI
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *emptyDir* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_emptyDir,
 

 

 

 

 

 

 

 

 
EmptyDir
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *ephemeral* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral,
 

 

 

 

 

 

 

 

 
Ephemeral
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *fc* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_fc,
 

 

 

 

 

 

 

 

 
Fc
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *flexVolume* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_flexVolume,
 

 

 

 

 

 

 

 

 
FlexVolume
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *flocker* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_flocker,
 

 

 

 

 

 

 

 

 
Flocker
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *gcePersistentDisk* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_gcePersistentDisk,
 

 

 

 

 

 

 

 

 
GcePersistentDisk
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *gitRepo* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_gitRepo,
 

 

 

 

 

 

 

 

 
GitRepo
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *glusterfs* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_glusterfs,
 

 

 

 

 

 

 

 

 
Glusterfs
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *hostPath* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_hostPath,
 

 

 

 

 

 

 

 

 
HostPath
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *iscsi* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_iscsi,
 

 

 

 

 

 

 

 

 
Iscsi
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *nfs* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_nfs,
 

 

 

 

 

 

 

 

 
Nfs
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *persistentVolumeClaim* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_persistentVolumeClaim,
 

 

 

 

 

 

 

 

 
PersistentVolumeClaim
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *photonPersistentDisk* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_photonPersistentDisk,
 

 

 

 

 

 

 

 

 
PhotonPersistentDisk
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *portworxVolume* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_portworxVolume,
 

 

 

 

 

 

 

 

 
PortworxVolume
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *projected* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected,
 

 

 

 

 

 

 

 

 
Projected
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *quobyte* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_quobyte,
 

 

 

 

 

 

 

 

 
Quobyte
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *rbd* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_rbd,
 

 

 

 

 

 

 

 

 
Rbd
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *scaleIO* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_scaleIO,
 

 

 

 

 

 

 

 

 
ScaleIO
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *secret* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_secret,
 

 

 

 

 

 

 

 

 
Secret
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *storageos* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_storageos,
 

 

 

 

 

 

 

 

 
Storageos
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *vsphereVolume* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_vsphereVolume,
 

 

 

 

 

 

 

 

 
VsphereVolume
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== AwsElasticBlockStore [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_awsElasticBlockStore]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        awsElasticBlockStore: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesAwsElasticBlockStore]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *partition* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *volumeID* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== AzureDisk [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_azureDisk]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        azureDisk: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesAzureDisk]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *cachingMode* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *diskName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *diskURI* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *kind* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== AzureFile [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_azureFile]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        azureFile: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesAzureFile]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *shareName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Cephfs [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_cephfs]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        cephfs: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesCephfs]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *monitors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *path* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *secretFile* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *secretRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_imagePullSecrets,
 

 

 

 

 

 

 

 

 
SecretRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *user* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Cinder [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_cinder]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        cinder: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesCinder]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *secretRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_imagePullSecrets,
 

 

 

 

 

 

 

 

 
SecretRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *volumeID* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== ConfigMap [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_configMap]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        configMap: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesConfigMap]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *defaultMode* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *items* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_configMap_items,Items>>
 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *optional* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Items [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_configMap_items]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        configMap: 
          items: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesConfigMapItems]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *key* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *mode* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *path* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Csi [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_csi]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        csi: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesCsi]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *driver* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *nodePublishSecretRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_imagePullSecrets,
 

 

 

 

 

 

 

 

 
NodePublishSecretRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *volumeAttributes* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== DownwardAPI [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_downwardAPI]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        downwardAPI: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesDownwardAPI]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *defaultMode* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *items* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_downwardAPI_items,Items>>
 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Items [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_downwardAPI_items]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        downwardAPI: 
          items: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesDownwardAPIItems]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fieldRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_env_valueFrom_fieldRef,
 

 

 

 

 

 

 

 

 
FieldRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *mode* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *path* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *resourceFieldRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_env_valueFrom_resourceFieldRef,
 

 

 

 

 

 

 

 

 
ResourceFieldRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== EmptyDir [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_emptyDir]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        emptyDir: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesEmptyDir]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *medium* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *sizeLimit* +
 
            
 
integer or string
 

 

 

 

 

 

 

 

 

 

 

 

 
            
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Ephemeral [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        ephemeral: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesEphemeral]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *volumeClaimTemplate* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate,
 

 

 

 

 

 

 

 

 
VolumeClaimTemplate
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== VolumeClaimTemplate [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        ephemeral: 
          volumeClaimTemplate: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesEphemeralVolumeClaimTemplate]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *metadata* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_metadata,
 

 

 

 

 

 

 

 

 
Metadata
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *spec* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_spec,
 

 

 

 

 

 

 

 

 
Spec
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Metadata [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_metadata]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        ephemeral: 
          volumeClaimTemplate: 
            metadata: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesEphemeralVolumeClaimTemplateMetadata]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    
 
    | *creationTimestamp* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *deletionGracePeriodSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *deletionTimestamp* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *finalizers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *generateName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *generation* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    
 
    | *managedFields* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_metadata_managedFields,ManagedFields>>
 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *namespace* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *ownerReferences* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_metadata_ownerReferences,OwnerReferences>>
 

 

 
    | 
 
    
 
    | *resourceVersion* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *selfLink* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *uid* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== ManagedFields [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_metadata_managedFields]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        ephemeral: 
          volumeClaimTemplate: 
            metadata: 
              managedFields: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesEphemeralVolumeClaimTemplateMetadataManagedFields]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *apiVersion* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *fieldsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *fieldsV1* +
 
    
 

 

 

 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *manager* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *operation* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *subresource* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *time* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== OwnerReferences [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_metadata_ownerReferences]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        ephemeral: 
          volumeClaimTemplate: 
            metadata: 
              ownerReferences: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesEphemeralVolumeClaimTemplateMetadataOwnerReferences]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *apiVersion* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *blockOwnerDeletion* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *controller* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *kind* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *uid* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Spec [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_spec]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        ephemeral: 
          volumeClaimTemplate: 
            spec: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesEphemeralVolumeClaimTemplateSpec]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *accessModes* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *dataSource* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_spec_dataSource,
 

 

 

 

 

 

 

 

 
DataSource
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *dataSourceRef* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_spec_dataSource,
 

 

 

 

 

 

 

 

 
DataSourceRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_initContainers_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *selector* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_spec_selector,
 

 

 

 

 

 

 

 

 
Selector
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *storageClassName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *volumeMode* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *volumeName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== DataSource [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_spec_dataSource]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        ephemeral: 
          volumeClaimTemplate: 
            spec: 
              dataSource: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesEphemeralVolumeClaimTemplateSpecDataSource]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *apiGroup* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *kind* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Selector [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_ephemeral_volumeClaimTemplate_spec_selector]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        ephemeral: 
          volumeClaimTemplate: 
            spec: 
              selector: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesEphemeralVolumeClaimTemplateSpecSelector]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *matchExpressions* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_nodeAffinity_preferredDuringSchedulingIgnoredDuringExecution_preference_matchExpressions,MatchExpressions>>
 

 

 
    | 
 
    
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Fc [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_fc]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        fc: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesFc]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *lun* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *targetWWNs* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *wwids* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
|===
 

 

 

 

 
=== FlexVolume [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_flexVolume]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        flexVolume: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesFlexVolume]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *driver* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *options* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *secretRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_imagePullSecrets,
 

 

 

 

 

 

 

 

 
SecretRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Flocker [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_flocker]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        flocker: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesFlocker]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *datasetName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *datasetUUID* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== GcePersistentDisk [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_gcePersistentDisk]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        gcePersistentDisk: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesGcePersistentDisk]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *partition* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *pdName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== GitRepo [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_gitRepo]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        gitRepo: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesGitRepo]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *directory* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *repository* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *revision* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Glusterfs [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_glusterfs]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        glusterfs: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesGlusterfs]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *endpoints* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *path* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== HostPath [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_hostPath]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        hostPath: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesHostPath]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *path* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Iscsi [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_iscsi]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        iscsi: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesIscsi]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *chapAuthDiscovery* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *chapAuthSession* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *initiatorName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *iqn* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *iscsiInterface* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *lun* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *portals* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *secretRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_imagePullSecrets,
 

 

 

 

 

 

 

 

 
SecretRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *targetPortal* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Nfs [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_nfs]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        nfs: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesNfs]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *path* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *server* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== PersistentVolumeClaim [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_persistentVolumeClaim]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        persistentVolumeClaim: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesPersistentVolumeClaim]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *claimName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== PhotonPersistentDisk [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_photonPersistentDisk]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        photonPersistentDisk: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesPhotonPersistentDisk]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *pdID* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== PortworxVolume [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_portworxVolume]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        portworxVolume: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesPortworxVolume]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *volumeID* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Projected [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        projected: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesProjected]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *defaultMode* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *sources* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected_sources,Sources>>
 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Sources [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected_sources]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        projected: 
          sources: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesProjectedSources]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *configMap* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected_sources_configMap,
 

 

 

 

 

 

 

 

 
ConfigMap
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *downwardAPI* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected_sources_downwardAPI,
 

 

 

 

 

 

 

 

 
DownwardAPI
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *secret* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected_sources_configMap,
 

 

 

 

 

 

 

 

 
Secret
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *serviceAccountToken* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected_sources_serviceAccountToken,
 

 

 

 

 

 

 

 

 
ServiceAccountToken
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== ConfigMap [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected_sources_configMap]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        projected: 
          sources: 
            configMap: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesProjectedSourcesConfigMap]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *items* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_configMap_items,Items>>
 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *optional* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== DownwardAPI [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected_sources_downwardAPI]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        projected: 
          sources: 
            downwardAPI: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesProjectedSourcesDownwardAPI]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *items* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_downwardAPI_items,Items>>
 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== ServiceAccountToken [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_projected_sources_serviceAccountToken]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        projected: 
          sources: 
            serviceAccountToken: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesProjectedSourcesServiceAccountToken]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *audience* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *expirationSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *path* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Quobyte [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_quobyte]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        quobyte: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesQuobyte]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *group* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *registry* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *tenant* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *user* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *volume* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Rbd [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_rbd]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        rbd: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesRbd]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *keyring* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *monitors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *pool* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *secretRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_imagePullSecrets,
 

 

 

 

 

 

 

 

 
SecretRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *user* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== ScaleIO [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_scaleIO]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        scaleIO: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesScaleIO]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *gateway* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *protectionDomain* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *secretRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_imagePullSecrets,
 

 

 

 

 

 

 

 

 
SecretRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *sslEnabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *storageMode* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *storagePool* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *system* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *volumeName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Secret [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_secret]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        secret: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesSecret]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *defaultMode* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *items* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_configMap_items,Items>>
 

 

 
    | 
 
    
 
    | *optional* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Storageos [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_storageos]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        storageos: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesStorageos]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *readOnly* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    
 
    | *secretRef* +
 
            
 
            <<PulsarCluster_spec_autorecovery_imagePullSecrets,
 

 

 

 

 

 

 

 

 
SecretRef
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *volumeName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *volumeNamespace* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== VsphereVolume [[PulsarCluster_spec_bookkeeper_additionalVolumes_volumes_vsphereVolume]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    additionalVolumes: 
      volumes: 
        vsphereVolume: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAdditionalVolumesVolumesVsphereVolume]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *storagePolicyID* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *storagePolicyName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *volumePath* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== AutoRackConfig [[PulsarCluster_spec_bookkeeper_autoRackConfig]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    autoRackConfig: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAutoRackConfig]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable rack configuration monitoring.
 
    | *periodMs* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Period for the schedule of the monitoring thread.
 
|===
 

 

 

 

 
=== Autoscaler [[PulsarCluster_spec_bookkeeper_autoscaler]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    autoscaler: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperAutoscaler]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *diskUsageToleranceHwm* +
 
    
 

 

 

 
bigdecimal
 

 

 

 

 

 

 

 

 
    | 
 
    The threshold to trigger a scale down. The autoscaler will scale down if all the bookies&#39; disk usage is lower than this threshold. Default is &#39;0.92&#39;
 
    | *diskUsageToleranceLwm* +
 
    
 

 

 

 
bigdecimal
 

 

 

 

 

 

 

 

 
    | 
 
    The threshold to trigger a scale up. The autoscaler will scale up if all the bookies&#39; disk usage is higher than this threshold. Default is &#39;0.75&#39;
 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable autoscaling for bookies.
 
    | *minWritableBookies* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Min number of writable bookies. The autoscaler will scale up if not enough writable bookies are detected. For instance, if a bookie went to read-only mode, the autoscaler will scale up to replace it. Default is &#39;3&#39;.
 
    | *periodMs* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    The interval in milliseconds between two consecutive autoscaling checks.
 
    | *scaleDownBy* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    The number of bookies to remove at each scale down. Default is &#39;1&#39;
 
    | *scaleUpBy* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    The number of bookies to add at each scale up. Default is &#39;1&#39;
 
    | *scaleUpMaxLimit* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Max number of bookies. If the number of bookies is equals to this value, the autoscaler will never scale up.
 
    | *stabilizationWindowMs* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    The stabilization window is used to restrict the flapping of replica count when the metrics used for scaling keep fluctuating. The autoscaling algorithm uses this window to infer a previous desired state and avoid unwanted changes to workload scale.Default value is 5 minutes after the pod readiness.
 
|===
 

 

 

 

 
=== Pdb [[PulsarCluster_spec_bookkeeper_pdb]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    pdb: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperPdb]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable Pdb policy.
 
    | *maxUnavailable* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of maxUnavailable pods.
 
|===
 

 

 

 

 
=== Probes [[PulsarCluster_spec_bookkeeper_probes]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    probes: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperProbes]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *liveness* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes_liveness,
 

 

 

 

 

 

 

 

 
Liveness
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *readiness* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes_readiness,
 

 

 

 

 

 

 

 

 
Readiness
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Liveness [[PulsarCluster_spec_bookkeeper_probes_liveness]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    probes: 
      liveness: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperProbesLiveness]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enables the probe.
 
    | *failureThreshold* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Failure threshold.
 
    | *initialDelaySeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the initial delay (in seconds) for the probe.
 
    | *periodSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the period (in seconds) for the probe.
 
    | *successThreshold* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Success threshold.
 
    | *terminationGracePeriodSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the termination grace period (in seconds) for the probe.
 
    | *timeoutSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the timeout (in seconds) for the probe.
 
|===
 

 

 

 

 
=== Readiness [[PulsarCluster_spec_bookkeeper_probes_readiness]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    probes: 
      readiness: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperProbesReadiness]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enables the probe.
 
    | *failureThreshold* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Failure threshold.
 
    | *initialDelaySeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the initial delay (in seconds) for the probe.
 
    | *periodSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the period (in seconds) for the probe.
 
    | *successThreshold* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Success threshold.
 
    | *terminationGracePeriodSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the termination grace period (in seconds) for the probe.
 
    | *timeoutSeconds* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the timeout (in seconds) for the probe.
 
|===
 

 

 

 

 
=== Service [[PulsarCluster_spec_bookkeeper_service]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    service: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperService]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalPorts* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_service_additionalPorts,AdditionalPorts>>
 

 

 
    | 
 
    Additional ports to add to the Service.
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional annotations to add to the Service.
 
|===
 

 

 

 

 
=== AdditionalPorts [[PulsarCluster_spec_bookkeeper_service_additionalPorts]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    service: 
      additionalPorts: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperServiceAdditionalPorts]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *appProtocol* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *nodePort* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *port* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *protocol* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *targetPort* +
 
            
 
integer or string
 

 

 

 

 

 

 

 

 

 

 

 

 
            
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Sets [[PulsarCluster_spec_bookkeeper_sets]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    sets: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperSets]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalVolumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes,
 

 

 

 

 

 

 

 

 
AdditionalVolumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *autoscaler* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_autoscaler,
 

 

 

 

 

 

 

 

 
Autoscaler
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *cleanUpPvcs* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Cleanup PVCs after the bookie has been removed.
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *overrideResourceName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the resource names generated by the operator.
 
    | *pdb* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_pdb,
 

 

 

 

 

 

 

 

 
Pdb
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *podManagementPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Pod management policy. Default value is &#39;Parallel&#39;.
 
    | *probes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes,
 

 

 

 

 

 

 

 

 
Probes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *pvcPrefix* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Prefix for each PVC created.
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *service* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_service,
 

 

 

 

 

 

 

 

 
Service
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
    | *updateStrategy* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_updateStrategy,
 

 

 

 

 

 

 

 

 
UpdateStrategy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *volumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_volumes,
 

 

 

 

 

 

 

 

 
Volumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== UpdateStrategy [[PulsarCluster_spec_bookkeeper_sets_updateStrategy]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    sets: 
      updateStrategy: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperSetsUpdateStrategy]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *rollingUpdate* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_updateStrategy_rollingUpdate,
 

 

 

 

 

 

 

 

 
RollingUpdate
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== RollingUpdate [[PulsarCluster_spec_bookkeeper_sets_updateStrategy_rollingUpdate]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    sets: 
      updateStrategy: 
        rollingUpdate: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperSetsUpdateStrategyRollingUpdate]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *maxUnavailable* +
 
            
 
integer or string
 

 

 

 

 

 

 

 

 

 

 

 

 
            
 
        
 
    
 
    | 
 
    
 
    | *partition* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Volumes [[PulsarCluster_spec_bookkeeper_sets_volumes]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    sets: 
      volumes: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperSetsVolumes]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *journal* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_volumes_journal,
 

 

 

 

 

 

 

 

 
Journal
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *ledgers* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_volumes_ledgers,
 

 

 

 

 

 

 

 

 
Ledgers
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Journal [[PulsarCluster_spec_bookkeeper_sets_volumes_journal]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    sets: 
      volumes: 
        journal: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperSetsVolumesJournal]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *existingStorageClassName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates if an already existing storage class should be used.
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the suffix for the volume. Default value is &#39;data&#39;.
 
    | *size* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the requested size for the volume. The format follows the Kubernetes&#39; Quantity.
 
    | *storageClass* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_volumes_journal_storageClass,
 

 

 

 

 

 

 

 

 
StorageClass
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== StorageClass [[PulsarCluster_spec_bookkeeper_sets_volumes_journal_storageClass]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    sets: 
      volumes: 
        journal: 
          storageClass: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperSetsVolumesJournalStorageClass]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *extraParams* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Adds extra parameters for the StorageClass.
 
    | *fsType* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the &#39;fsType&#39; parameter for the StorageClass.
 
    | *provisioner* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the provisioner property for the StorageClass.
 
    | *reclaimPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the reclaimPolicy property for the StorageClass.
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the &#39;type&#39; parameter for the StorageClass.
 
|===
 

 

 

 

 
=== Ledgers [[PulsarCluster_spec_bookkeeper_sets_volumes_ledgers]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  bookkeeper: 
    sets: 
      volumes: 
        ledgers: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBookkeeperSetsVolumesLedgers]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *existingStorageClassName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates if an already existing storage class should be used.
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the suffix for the volume. Default value is &#39;data&#39;.
 
    | *size* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the requested size for the volume. The format follows the Kubernetes&#39; Quantity.
 
    | *storageClass* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_volumes_journal_storageClass,
 

 

 

 

 

 

 

 

 
StorageClass
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Broker [[PulsarCluster_spec_broker]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  broker: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBroker]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalVolumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes,
 

 

 

 

 

 

 

 

 
AdditionalVolumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *autoscaler* +
 
            
 
            <<PulsarCluster_spec_broker_autoscaler,
 

 

 

 

 

 

 

 

 
Autoscaler
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *functionsWorkerEnabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable functions worker embedded in the broker.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *kafka* +
 
            
 
            <<PulsarCluster_spec_broker_kafka,
 

 

 

 

 

 

 

 

 
Kafka
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *overrideResourceName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the resource names generated by the operator.
 
    | *pdb* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_pdb,
 

 

 

 

 

 

 

 

 
Pdb
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *podManagementPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Pod management policy.
 
    | *probes* +
 
            
 
            <<PulsarCluster_spec_broker_probes,
 

 

 

 

 

 

 

 

 
Probes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *service* +
 
            
 
            <<PulsarCluster_spec_broker_service,
 

 

 

 

 

 

 

 

 
Service
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *serviceAccountName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Service account name for the Broker StatefulSet.
 
    | *sets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 

 

 
    | 
 
    Broker sets.
 
    | *setsUpdateStrategy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Sets update strategy. &#39;RollingUpdate&#39; or &#39;Parallel&#39;. Default is &#39;RollingUpdate&#39;.
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
    | *transactions* +
 
            
 
            <<PulsarCluster_spec_broker_sets_transactions,
 

 

 

 

 

 

 

 

 
Transactions
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *updateStrategy* +
 
            
 
            <<PulsarCluster_spec_broker_sets_updateStrategy,
 

 

 

 

 

 

 

 

 
UpdateStrategy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Autoscaler [[PulsarCluster_spec_broker_autoscaler]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  broker: 
    autoscaler: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBrokerAutoscaler]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable autoscaling for brokers.
 
    | *higherCpuThreshold* +
 
    
 

 

 

 
bigdecimal
 

 

 

 

 

 

 

 

 
    | 
 
    The threshold to trigger a scale up. The autoscaler will scale up if all the brokers cpu usage is higher than this threshold. Default is &#39;0.8&#39;
 
    | *lowerCpuThreshold* +
 
    
 

 

 

 
bigdecimal
 

 

 

 

 

 

 

 

 
    | 
 
    The threshold to trigger a scale down. The autoscaler will scale down if all the brokers cpu usage is lower than this threshold. Default is &#39;0.4&#39;
 
    | *max* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Max number of brokers. If the number of brokers is equals to this value, the autoscaler will never scale up.
 
    | *min* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Min number of brokers. If the number of brokers is equals to this value, the autoscaler will never scale down.
 
    | *periodMs* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    The interval in milliseconds between two consecutive autoscaling checks.
 
    | *resourcesUsageSource* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Source for getting the brokers resources usage. Possible values are &#39;PulsarLBReport&#39; and &#39;K8SMetrics&#39;. Default is &#39;PulsarLBReport&#39;
 
    | *scaleDownBy* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    The number of brokers to remove at each scale down. Default is &#39;1&#39;
 
    | *scaleUpBy* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    The number of brokers to add at each scale up. Default is &#39;1&#39;
 
    | *stabilizationWindowMs* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    The stabilization window is used to restrict the flapping of replica count when the metrics used for scaling keep fluctuating. The autoscaling algorithm uses this window to infer a previous desired state and avoid unwanted changes to workload scale.Default value is 5 minutes after the pod readiness.
 
|===
 

 

 

 

 
=== Kafka [[PulsarCluster_spec_broker_kafka]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  broker: 
    kafka: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBrokerKafka]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Allow the cluster to accept Kafka protocol. Default is &#39;false&#39;.
 
    | *exposePorts* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Expose the kafka protocol port.
 
|===
 

 

 

 

 
=== Probes [[PulsarCluster_spec_broker_probes]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  broker: 
    probes: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBrokerProbes]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *liveness* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes_liveness,
 

 

 

 

 

 

 

 

 
Liveness
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *readiness* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes_readiness,
 

 

 

 

 

 

 

 

 
Readiness
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *useHealthCheckForLiveness* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Use healthcheck for the liveness probe. If false, the /metrics endpoint will be used.
 
    | *useHealthCheckForReadiness* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Use healthcheck for the readiness probe. If false, the /metrics endpoint will be used.
 
|===
 

 

 

 

 
=== Service [[PulsarCluster_spec_broker_service]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  broker: 
    service: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBrokerService]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalPorts* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_service_additionalPorts,AdditionalPorts>>
 

 

 
    | 
 
    Additional ports to add to the Service.
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional annotations to add to the Service.
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Service type. Default value is &#39;ClusterIP&#39;
 
|===
 

 

 

 

 
=== Sets [[PulsarCluster_spec_broker_sets]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  broker: 
    sets: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBrokerSets]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalVolumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes,
 

 

 

 

 

 

 

 

 
AdditionalVolumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *autoscaler* +
 
            
 
            <<PulsarCluster_spec_broker_autoscaler,
 

 

 

 

 

 

 

 

 
Autoscaler
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *functionsWorkerEnabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable functions worker embedded in the broker.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *kafka* +
 
            
 
            <<PulsarCluster_spec_broker_kafka,
 

 

 

 

 

 

 

 

 
Kafka
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *overrideResourceName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the resource names generated by the operator.
 
    | *pdb* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_pdb,
 

 

 

 

 

 

 

 

 
Pdb
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *podManagementPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Pod management policy.
 
    | *probes* +
 
            
 
            <<PulsarCluster_spec_broker_probes,
 

 

 

 

 

 

 

 

 
Probes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *service* +
 
            
 
            <<PulsarCluster_spec_broker_service,
 

 

 

 

 

 

 

 

 
Service
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *serviceAccountName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Service account name for the Broker StatefulSet.
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
    | *transactions* +
 
            
 
            <<PulsarCluster_spec_broker_sets_transactions,
 

 

 

 

 

 

 

 

 
Transactions
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *updateStrategy* +
 
            
 
            <<PulsarCluster_spec_broker_sets_updateStrategy,
 

 

 

 

 

 

 

 

 
UpdateStrategy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Transactions [[PulsarCluster_spec_broker_sets_transactions]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  broker: 
    sets: 
      transactions: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBrokerSetsTransactions]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Initialize the transaction coordinator if it&#39;s not yet and configure the broker to accept transactions.
 
    | *initJob* +
 
            
 
            <<PulsarCluster_spec_broker_sets_transactions_initJob,
 

 

 

 

 

 

 

 

 
InitJob
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *partitions* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of coordinators to create.
 
|===
 

 

 

 

 
=== InitJob [[PulsarCluster_spec_broker_sets_transactions_initJob]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  broker: 
    sets: 
      transactions: 
        initJob: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBrokerSetsTransactionsInitJob]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== UpdateStrategy [[PulsarCluster_spec_broker_sets_updateStrategy]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  broker: 
    sets: 
      updateStrategy: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecBrokerSetsUpdateStrategy]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *rollingUpdate* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_updateStrategy_rollingUpdate,
 

 

 

 

 

 

 

 

 
RollingUpdate
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== FunctionsWorker [[PulsarCluster_spec_functionsWorker]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  functionsWorker: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecFunctionsWorker]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalVolumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes,
 

 

 

 

 

 

 

 

 
AdditionalVolumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *logsVolume* +
 
            
 
            <<PulsarCluster_spec_functionsWorker_logsVolume,
 

 

 

 

 

 

 

 

 
LogsVolume
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *pdb* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_pdb,
 

 

 

 

 

 

 

 

 
Pdb
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *podManagementPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Pod management policy.
 
    | *probes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes,
 

 

 

 

 

 

 

 

 
Probes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *rbac* +
 
            
 
            <<PulsarCluster_spec_functionsWorker_rbac,
 

 

 

 

 

 

 

 

 
Rbac
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *runtime* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Runtime mode for functions.
 
    | *service* +
 
            
 
            <<PulsarCluster_spec_broker_service,
 

 

 

 

 

 

 

 

 
Service
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
    | *updateStrategy* +
 
            
 
            <<PulsarCluster_spec_broker_sets_updateStrategy,
 

 

 

 

 

 

 

 

 
UpdateStrategy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== LogsVolume [[PulsarCluster_spec_functionsWorker_logsVolume]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  functionsWorker: 
    logsVolume: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecFunctionsWorkerLogsVolume]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *existingStorageClassName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates if an already existing storage class should be used.
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the suffix for the volume. Default value is &#39;data&#39;.
 
    | *size* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the requested size for the volume. The format follows the Kubernetes&#39; Quantity.
 
    | *storageClass* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_volumes_journal_storageClass,
 

 

 

 

 

 

 

 

 
StorageClass
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Rbac [[PulsarCluster_spec_functionsWorker_rbac]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  functionsWorker: 
    rbac: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecFunctionsWorkerRbac]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *create* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Create needed RBAC to run the Functions Worker.
 
    | *namespaced* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Whether or not the RBAC is created per-namespace or cluster-wise.
 
|===
 

 

 

 

 
=== Global [[PulsarCluster_spec_global]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobal]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | _(Optional)_ + 
 
    Pulsar cluster name.
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_global_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *auth* +
 
            
 
            <<PulsarCluster_spec_global_auth,
 

 

 

 

 

 

 

 

 
Auth
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *components* +
 
            
 
            <<PulsarCluster_spec_global_components,
 

 

 

 

 

 

 

 

 
Components
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *dnsConfig* +
 
            
 
            <<PulsarCluster_spec_global_dnsConfig,
 

 

 

 

 

 

 

 

 
DnsConfig
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *dnsName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Public dns name for the cluster&#39;s load balancer.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Default Pulsar image to use. Any components can be configured to use a different image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Default Pulsar image pull policy to use. Any components can be configured to use a different image pull policy. Default value is &#39;IfNotPresent&#39;.
 
    | *kubernetesClusterDomain* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    The domain name for your kubernetes cluster. This domain is documented here: https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/#a-aaaa-records-1 . It&#39;s used to fully qualify service names when configuring Pulsar. The default value is &#39;cluster.local&#39;. 
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Global node selector. If set, this will apply to all the components.
 
    | *persistence* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    If persistence is enabled, components that has state will be deployed with PersistentVolumeClaims, otherwise, for test purposes, they will be deployed with emptyDir 
 
    | *priorityClassName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Priority class name to attach to each pod.
 
    | *racks* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 

 

 
    | 
 
    Racks configuration.
 
    | *resourceSets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 

 

 
    | 
 
    Resource sets.
 
    | *restartOnConfigMapChange* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    By default, Kubernetes will not restart pods when only their configmap is changed. This setting will restart pods when their configmap is changed using an annotation that calculates the checksum of the configmap. 
 
    | *storage* +
 
            
 
            <<PulsarCluster_spec_global_storage,
 

 

 

 

 

 

 

 

 
Storage
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *tls* +
 
            
 
            <<PulsarCluster_spec_global_tls,
 

 

 

 

 

 

 

 

 
Tls
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *zookeeperPlainSslStorePassword* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Use plain password in zookeeper server and client configuration. Default is false. Old versions of Apache Zookeeper (&lt;3.8.0) does not support getting password from file. In that case, set this to true.
 
|===
 

 

 

 

 
=== AntiAffinity [[PulsarCluster_spec_global_antiAffinity]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    antiAffinity: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalAntiAffinity]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *host* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity_host,
 

 

 

 

 

 

 

 

 
Host
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *zone* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity_zone,
 

 

 

 

 

 

 

 

 
Zone
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Auth [[PulsarCluster_spec_global_auth]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    auth: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalAuth]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable authentication in the cluster. Default is &#39;false&#39;.
 
    | *token* +
 
            
 
            <<PulsarCluster_spec_global_auth_token,
 

 

 

 

 

 

 

 

 
Token
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Token [[PulsarCluster_spec_global_auth_token]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    auth: 
      token: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalAuthToken]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *initialize* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Initialize Secrets with new pair of keys and tokens for the super user roles. The generated Secret name is &#39;token-&lt;role&gt;&#39;.
 
    | *privateKeyFile* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Private key file name stored in the Secret. Default is &#39;my-private.key&#39;
 
    | *proxyRoles* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    Proxy roles.
 
    | *publicKeyFile* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Public key file name stored in the Secret. Default is &#39;my-public.key&#39;
 
    | *superUserRoles* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    Super user roles.
 
|===
 

 

 

 

 
=== Components [[PulsarCluster_spec_global_components]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    components: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalComponents]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *autorecoveryBaseName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Autorecovery base name. Default value is &#39;autorecovery&#39;.
 
    | *bastionBaseName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Bastion base name. Default value is &#39;bastion&#39;.
 
    | *bookkeeperBaseName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    BookKeeper base name. Default value is &#39;bookkeeper&#39;.
 
    | *brokerBaseName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Broker base name. Default value is &#39;broker&#39;.
 
    | *functionsWorkerBaseName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Functions Worker base name. Default value is &#39;function&#39;.
 
    | *proxyBaseName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Proxy base name. Default value is &#39;proxy&#39;.
 
    | *zookeeperBaseName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Zookeeper base name. Default value is &#39;zookeeper&#39;.
 
|===
 

 

 

 

 
=== DnsConfig [[PulsarCluster_spec_global_dnsConfig]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    dnsConfig: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalDnsConfig]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *nameservers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
    | *options* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers_lifecycle_postStart_httpGet_httpHeaders,Options>>
 

 

 
    | 
 
    
 
    | *searches* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 
string
 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Racks [[PulsarCluster_spec_global_racks]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    racks: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalRacks]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *host* +
 
            
 
            <<PulsarCluster_spec_global_racks_host,
 

 

 

 

 

 

 

 

 
Host
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *zone* +
 
            
 
            <<PulsarCluster_spec_global_racks_zone,
 

 

 

 

 

 

 

 

 
Zone
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Host [[PulsarCluster_spec_global_racks_host]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    racks: 
      host: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalRacksHost]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable the rack affinity rules.
 
    | *requireRackAffinity* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates if the podAffinity rules will be enforced. Default is false. If required, the affinity rule will be enforced using &#39;requiredDuringSchedulingIgnoredDuringExecution&#39;.
 
    | *requireRackAntiAffinity* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates if the podAntiAffinity rules will be enforced. Default is true. If required, the affinity rule will be enforced using &#39;requiredDuringSchedulingIgnoredDuringExecution&#39;.
 
|===
 

 

 

 

 
=== Zone [[PulsarCluster_spec_global_racks_zone]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    racks: 
      zone: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalRacksZone]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enableHostAntiAffinity* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable the host anti affinity. If set, all the pods of the same rack will deployed on different nodes of the same zone.Default is true.
 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable the rack affinity rules.
 
    | *requireRackAffinity* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates if the podAffinity rules will be enforced. Default is false. If required, the affinity rule will be enforced using &#39;requiredDuringSchedulingIgnoredDuringExecution&#39;.
 
    | *requireRackAntiAffinity* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates if the podAntiAffinity rules will be enforced. Default is true. If required, the affinity rule will be enforced using &#39;requiredDuringSchedulingIgnoredDuringExecution&#39;.
 
    | *requireRackHostAntiAffinity* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Indicates if the podAntiAffinity rules will be enforced for the host. Default is true. If required, the affinity rule will be enforced using &#39;requiredDuringSchedulingIgnoredDuringExecution&#39;.
 
|===
 

 

 

 

 
=== ResourceSets [[PulsarCluster_spec_global_resourceSets]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    resourceSets: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalResourceSets]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *rack* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Place this resource set to a specific rack, defined at .global.racks.
 
|===
 

 

 

 

 
=== Storage [[PulsarCluster_spec_global_storage]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    storage: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalStorage]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *existingStorageClassName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates if an already existing storage class should be used.
 
    | *storageClass* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_volumes_journal_storageClass,
 

 

 

 

 

 

 

 

 
StorageClass
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Tls [[PulsarCluster_spec_global_tls]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTls]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *autorecovery* +
 
            
 
            <<PulsarCluster_spec_global_tls_autorecovery,
 

 

 

 

 

 

 

 

 
Autorecovery
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *bookkeeper* +
 
            
 
            <<PulsarCluster_spec_global_tls_bookkeeper,
 

 

 

 

 

 

 

 

 
Bookkeeper
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *broker* +
 
            
 
            <<PulsarCluster_spec_global_tls_broker,
 

 

 

 

 

 

 

 

 
Broker
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *brokerResourceSets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 

 

 
    | 
 
    TLS configurations related to the Broker resource sets.
 
    | *caPath* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Path in the container filesystem where the TLS CA certificates are retrieved. It has to point to a certificate file. The default value is /etc/ssl/certs/ca-certificates.crt.
 
    | *certProvisioner* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner,
 

 

 

 

 

 

 

 

 
CertProvisioner
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *defaultSecretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Secret name used by each component to load TLS certificates. Each component can load a different secret by setting the &#39;secretName&#39; entry in the tls component spec.
 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Global switch to turn on or off the TLS configurations. Additionally, you have configure each component section.
 
    | *functionsWorker* +
 
            
 
            <<PulsarCluster_spec_global_tls_functionsWorker,
 

 

 

 

 

 

 

 

 
FunctionsWorker
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *proxy* +
 
            
 
            <<PulsarCluster_spec_global_tls_proxy,
 

 

 

 

 

 

 

 

 
Proxy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *proxyResourceSets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 

 

 
    | 
 
    TLS configurations related to the Proxy resource sets.
 
    | *ssCa* +
 
            
 
            <<PulsarCluster_spec_global_tls_ssCa,
 

 

 

 

 

 

 

 

 
SsCa
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *zookeeper* +
 
            
 
            <<PulsarCluster_spec_global_tls_zookeeper,
 

 

 

 

 

 

 

 

 
Zookeeper
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Autorecovery [[PulsarCluster_spec_global_tls_autorecovery]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      autorecovery: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsAutorecovery]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS.
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the default secret name from where to load the certificates.
 
|===
 

 

 

 

 
=== Bookkeeper [[PulsarCluster_spec_global_tls_bookkeeper]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      bookkeeper: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsBookkeeper]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS.
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the default secret name from where to load the certificates.
 
|===
 

 

 

 

 
=== Broker [[PulsarCluster_spec_global_tls_broker]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      broker: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsBroker]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS.
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the default secret name from where to load the certificates.
 
|===
 

 

 

 

 
=== BrokerResourceSets [[PulsarCluster_spec_global_tls_brokerResourceSets]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      brokerResourceSets: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsBrokerResourceSets]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS.
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the default secret name from where to load the certificates.
 
|===
 

 

 

 

 
=== CertProvisioner [[PulsarCluster_spec_global_tls_certProvisioner]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      certProvisioner: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsCertProvisioner]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *selfSigned* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned,
 

 

 

 

 

 

 

 

 
SelfSigned
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== SelfSigned [[PulsarCluster_spec_global_tls_certProvisioner_selfSigned]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      certProvisioner: 
        selfSigned: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsCertProvisionerSelfSigned]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *autorecovery* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery,
 

 

 

 

 

 

 

 

 
Autorecovery
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *bookkeeper* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_bookkeeper,
 

 

 

 

 

 

 

 

 
Bookkeeper
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *broker* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_broker,
 

 

 

 

 

 

 

 

 
Broker
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *caSecretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Secret where to store the root CA certificate.
 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Generate self signed certificates for broker, proxy and functions worker.
 
    | *functionsWorker* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_functionsWorker,
 

 

 

 

 

 

 

 

 
FunctionsWorker
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *includeDns* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Include dns name in the DNS names covered by the certificate.
 
    | *perComponent* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Generate a different certificate for each component.
 
    | *privateKey* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery_privateKey,
 

 

 

 

 

 

 

 

 
PrivateKey
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *proxy* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_proxy,
 

 

 

 

 

 

 

 

 
Proxy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *zookeeper* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_zookeeper,
 

 

 

 

 

 

 

 

 
Zookeeper
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Autorecovery [[PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      certProvisioner: 
        selfSigned: 
          autorecovery: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsCertProvisionerSelfSignedAutorecovery]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *generate* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Generate self signed certificates for the component.
 
    | *privateKey* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery_privateKey,
 

 

 

 

 

 

 

 

 
PrivateKey
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== PrivateKey [[PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery_privateKey]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      certProvisioner: 
        selfSigned: 
          autorecovery: 
            privateKey: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsCertProvisionerSelfSignedAutorecoveryPrivateKey]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *algorithm* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *encoding* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *rotationPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *size* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== Bookkeeper [[PulsarCluster_spec_global_tls_certProvisioner_selfSigned_bookkeeper]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      certProvisioner: 
        selfSigned: 
          bookkeeper: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsCertProvisionerSelfSignedBookkeeper]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *generate* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Generate self signed certificates for the component.
 
    | *privateKey* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery_privateKey,
 

 

 

 

 

 

 

 

 
PrivateKey
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Broker [[PulsarCluster_spec_global_tls_certProvisioner_selfSigned_broker]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      certProvisioner: 
        selfSigned: 
          broker: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsCertProvisionerSelfSignedBroker]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *generate* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Generate self signed certificates for the component.
 
    | *privateKey* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery_privateKey,
 

 

 

 

 

 

 

 

 
PrivateKey
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== FunctionsWorker [[PulsarCluster_spec_global_tls_certProvisioner_selfSigned_functionsWorker]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      certProvisioner: 
        selfSigned: 
          functionsWorker: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsCertProvisionerSelfSignedFunctionsWorker]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *generate* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Generate self signed certificates for the component.
 
    | *privateKey* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery_privateKey,
 

 

 

 

 

 

 

 

 
PrivateKey
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Proxy [[PulsarCluster_spec_global_tls_certProvisioner_selfSigned_proxy]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      certProvisioner: 
        selfSigned: 
          proxy: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsCertProvisionerSelfSignedProxy]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *generate* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Generate self signed certificates for the component.
 
    | *privateKey* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery_privateKey,
 

 

 

 

 

 

 

 

 
PrivateKey
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Zookeeper [[PulsarCluster_spec_global_tls_certProvisioner_selfSigned_zookeeper]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      certProvisioner: 
        selfSigned: 
          zookeeper: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsCertProvisionerSelfSignedZookeeper]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *generate* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Generate self signed certificates for the component.
 
    | *privateKey* +
 
            
 
            <<PulsarCluster_spec_global_tls_certProvisioner_selfSigned_autorecovery_privateKey,
 

 

 

 

 

 

 

 

 
PrivateKey
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== FunctionsWorker [[PulsarCluster_spec_global_tls_functionsWorker]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      functionsWorker: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsFunctionsWorker]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS.
 
    | *enabledWithBroker* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS for the functions worker to broker connections.
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the default secret name from where to load the certificates.
 
|===
 

 

 

 

 
=== Proxy [[PulsarCluster_spec_global_tls_proxy]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      proxy: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsProxy]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS.
 
    | *enabledWithBroker* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS for the proxy to broker connections.
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the default secret name from where to load the certificates.
 
|===
 

 

 

 

 
=== ProxyResourceSets [[PulsarCluster_spec_global_tls_proxyResourceSets]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      proxyResourceSets: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsProxyResourceSets]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS.
 
    | *enabledWithBroker* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS for the proxy to broker connections.
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the default secret name from where to load the certificates.
 
|===
 

 

 

 

 
=== SsCa [[PulsarCluster_spec_global_tls_ssCa]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      ssCa: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsSsCa]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS.
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the default secret name from where to load the certificates.
 
|===
 

 

 

 

 
=== Zookeeper [[PulsarCluster_spec_global_tls_zookeeper]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  global: 
    tls: 
      zookeeper: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecGlobalTlsZookeeper]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable TLS.
 
    | *secretName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the default secret name from where to load the certificates.
 
|===
 

 

 

 

 
=== Proxy [[PulsarCluster_spec_proxy]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  proxy: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecProxy]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalVolumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes,
 

 

 

 

 

 

 

 

 
AdditionalVolumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *kafka* +
 
            
 
            <<PulsarCluster_spec_broker_kafka,
 

 

 

 

 

 

 

 

 
Kafka
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *overrideResourceName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the resource names generated by the operator.
 
    | *pdb* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_pdb,
 

 

 

 

 

 

 

 

 
Pdb
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *probes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes,
 

 

 

 

 

 

 

 

 
Probes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *service* +
 
            
 
            <<PulsarCluster_spec_proxy_service,
 

 

 

 

 

 

 

 

 
Service
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *sets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]
 

 

 
    | 
 
    Proxy sets.
 
    | *setsUpdateStrategy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Sets update strategy. &#39;RollingUpdate&#39; or &#39;Parallel&#39;. Default is &#39;RollingUpdate&#39;.
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *standaloneFunctionsWorker* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Whether or not the functions worker is in standalone mode.
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
    | *updateStrategy* +
 
            
 
            <<PulsarCluster_spec_proxy_sets_updateStrategy,
 

 

 

 

 

 

 

 

 
UpdateStrategy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *webSocket* +
 
            
 
            <<PulsarCluster_spec_proxy_sets_webSocket,
 

 

 

 

 

 

 

 

 
WebSocket
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Service [[PulsarCluster_spec_proxy_service]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  proxy: 
    service: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecProxyService]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalPorts* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_bookkeeper_service_additionalPorts,AdditionalPorts>>
 

 

 
    | 
 
    Additional ports to add to the Service.
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional annotations to add to the Service.
 
    | *enablePlainTextWithTLS* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable plain text connections even if TLS is enabled.
 
    | *loadBalancerIP* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Assign a load balancer IP.
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Service type. Default value is &#39;ClusterIP&#39;
 
|===
 

 

 

 

 
=== Sets [[PulsarCluster_spec_proxy_sets]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  proxy: 
    sets: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecProxySets]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalVolumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes,
 

 

 

 

 

 

 

 

 
AdditionalVolumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *kafka* +
 
            
 
            <<PulsarCluster_spec_broker_kafka,
 

 

 

 

 

 

 

 

 
Kafka
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *overrideResourceName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override the resource names generated by the operator.
 
    | *pdb* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_pdb,
 

 

 

 

 

 

 

 

 
Pdb
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *probes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes,
 

 

 

 

 

 

 

 

 
Probes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *service* +
 
            
 
            <<PulsarCluster_spec_proxy_service,
 

 

 

 

 

 

 

 

 
Service
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *standaloneFunctionsWorker* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Whether or not the functions worker is in standalone mode.
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
    | *updateStrategy* +
 
            
 
            <<PulsarCluster_spec_proxy_sets_updateStrategy,
 

 

 

 

 

 

 

 

 
UpdateStrategy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *webSocket* +
 
            
 
            <<PulsarCluster_spec_proxy_sets_webSocket,
 

 

 

 

 

 

 

 

 
WebSocket
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== UpdateStrategy [[PulsarCluster_spec_proxy_sets_updateStrategy]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  proxy: 
    sets: 
      updateStrategy: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecProxySetsUpdateStrategy]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *rollingUpdate* +
 
            
 
            <<PulsarCluster_spec_proxy_sets_updateStrategy_rollingUpdate,
 

 

 

 

 

 

 

 

 
RollingUpdate
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 

 

 

 

 
=== RollingUpdate [[PulsarCluster_spec_proxy_sets_updateStrategy_rollingUpdate]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  proxy: 
    sets: 
      updateStrategy: 
        rollingUpdate: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecProxySetsUpdateStrategyRollingUpdate]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *maxSurge* +
 
            
 
integer or string
 

 

 

 

 

 

 

 

 

 

 

 

 
            
 
        
 
    
 
    | 
 
    
 
    | *maxUnavailable* +
 
            
 
integer or string
 

 

 

 

 

 

 

 

 

 

 

 

 
            
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== WebSocket [[PulsarCluster_spec_proxy_sets_webSocket]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  proxy: 
    sets: 
      webSocket: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecProxySetsWebSocket]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *enabled* +
 
    
 

 

 

 

 

 
boolean
 

 

 

 

 

 

 
    | 
 
    Enable WebSocket standalone as container in the proxy pod.
 
    | *probes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes,
 

 

 

 

 

 

 

 

 
Probes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Zookeeper [[PulsarCluster_spec_zookeeper]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  zookeeper: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecZookeeper]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *additionalVolumes* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_additionalVolumes,
 

 

 

 

 

 

 

 

 
AdditionalVolumes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *annotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to each resource (except pods).
 
    | *antiAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_antiAffinity,
 

 

 

 

 

 

 

 

 
AntiAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *config* +
 
    
 

 

 

 

 

 

 

 

 

 
any
 

 

 
    | 
 
    Configuration.
 
    | *dataVolume* +
 
            
 
            <<PulsarCluster_spec_zookeeper_dataVolume,
 

 

 

 

 

 

 

 

 
DataVolume
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *env* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_env,Env>>
 

 

 
    | 
 
    Additional container env variables.
 
    | *gracePeriod* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Termination grace period in seconds.
 
    | *image* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override Pulsar image.
 
    | *imagePullPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Override image pull policy.
 
    | *imagePullSecrets* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_imagePullSecrets,ImagePullSecrets>>
 

 

 
    | 
 
    Image pull secrets.
 
    | *initContainers* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,InitContainers>>
 

 

 
    | 
 
    Init containers
 
    | *labels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each resource (except pods).
 
    | *matchLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Match labels selectors to add to each pod.
 
    | *metadataInitializationJob* +
 
            
 
            <<PulsarCluster_spec_zookeeper_metadataInitializationJob,
 

 

 

 

 

 

 

 

 
MetadataInitializationJob
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeAffinity* +
 
            
 
            <<PulsarCluster_spec_autorecovery_nodeAffinity,
 

 

 

 

 

 

 

 

 
NodeAffinity
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *nodeSelectors* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Additional node selectors.
 
    | *pdb* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_pdb,
 

 

 

 

 

 

 

 

 
Pdb
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *podAnnotations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Annotations to add to pod.
 
    | *podLabels* +
 
    
 

 

 

 

 

 

 

 

 

 
[]key/value
 

 

 
    | 
 
    Labels to add to each pod.
 
    | *podManagementPolicy* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Pod management policy. Default value is &#39;Parallel&#39;.
 
    | *probes* +
 
            
 
            <<PulsarCluster_spec_zookeeper_probes,
 

 

 

 

 

 

 

 

 
Probes
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *replicas* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Number of desired replicas.
 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *service* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_service,
 

 

 

 

 

 

 

 

 
Service
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *sidecars* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_initContainers,Sidecars>>
 

 

 
    | 
 
    Sidecar containers
 
    | *tolerations* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_spec_autorecovery_tolerations,Tolerations>>
 

 

 
    | 
 
    Pod tolerations.
 
    | *updateStrategy* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_updateStrategy,
 

 

 

 

 

 

 

 

 
UpdateStrategy
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== DataVolume [[PulsarCluster_spec_zookeeper_dataVolume]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  zookeeper: 
    dataVolume: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecZookeeperDataVolume]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *existingStorageClassName* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates if an already existing storage class should be used.
 
    | *name* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the suffix for the volume. Default value is &#39;data&#39;.
 
    | *size* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Indicates the requested size for the volume. The format follows the Kubernetes&#39; Quantity.
 
    | *storageClass* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_sets_volumes_journal_storageClass,
 

 

 

 

 

 

 

 

 
StorageClass
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== MetadataInitializationJob [[PulsarCluster_spec_zookeeper_metadataInitializationJob]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  zookeeper: 
    metadataInitializationJob: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecZookeeperMetadataInitializationJob]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *resources* +
 
            
 
            <<PulsarCluster_spec_autorecovery_resources,
 

 

 

 

 

 

 

 

 
Resources
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *timeout* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    Timeout (in seconds) for the metadata initialization execution. Default value is 60.
 
|===
 

 

 

 

 
=== Probes [[PulsarCluster_spec_zookeeper_probes]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  zookeeper: 
    probes: {} 
 
---- 
 

 
[.fields-PulsarClusterSpecZookeeperProbes]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *liveness* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes_liveness,
 

 

 

 

 

 

 

 

 
Liveness
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
    | *readiness* +
 
            
 
            <<PulsarCluster_spec_bookkeeper_probes_readiness,
 

 

 

 

 

 

 

 

 
Readiness
 

 

 

 
>>
 
        
 
    
 
    | 
 
    
 
|===
 

 

 

 

 
=== Status [[PulsarCluster_status]] 
 

 
[.fields-PulsarClusterStatus]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *conditions* +
 
    
 

 

 

 

 

 

 

 

 

 
[]<<PulsarCluster_status_conditions,Conditions>>
 

 

 
    | 
 
    Conditions:  1. Condition Ready: possible status are True or False. If False, the reason contains the error message.
 
    | *lastApplied* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    Last spec applied.
 
|===
 

 

 

 

 
=== Conditions [[PulsarCluster_status_conditions]] 
 
Example use: 
 
[source,yaml] 
---- 
apiVersion: pulsar.oss.datastax.com/v1alpha1 
kind: PulsarCluster 
metadata: 
  name: example-pulsarcluster 
spec: 
  conditions: {} 
 
---- 
 

 
[.fields-PulsarClusterStatusConditions]
 
[cols="2,4"]
 
|===
 
| Field| Description
 

 
    | *lastTransitionTime* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *message* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *observedGeneration* +
 
    
 

 

 

 
integer
 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *reason* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *status* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
    | *type* +
 
    
 

 

 
string
 

 

 

 

 

 

 

 

 

 
    | 
 
    
 
|===
 
